!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function t(e){var r=e.baseUrl,n=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=r,this._headers=n,this._authorization=n.authorization}var r,n;return r=t,n=[{key:"renderResults",value:function(t){u.textContent=t.name,c.textContent=t.about,a.src=t.avatar}},{key:"defaultProfile",value:function(){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._authorization}}).then((function(t){return t.ok?t.json():Promise.reject(t.status)})).then((function(e){t.renderResults(e)})).catch((function(t){console.log("Error: ".concat(t))}))}},{key:"editProfile",value:function(t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._authorization,"content-Type":"application/json"},body:JSON.stringify({name:t.name,about:t.about})}).then((function(t){return t.ok?t.json():Promise.reject(t.status)})).catch((function(t){console.log("Error: ".concat(t))}))}},{key:"updateAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._authorization,"content-Type":"application/json"},body:JSON.stringify({avatar:t.avatar})}).then((function(t){return t.ok?t.json():Promise.reject(t.status)})).catch((function(t){console.log("Error: ".concat(t))}))}},{key:"addLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"PUT",headers:{authorization:this._authorization,"content-Type":"application/json"},body:JSON.stringify({name:profile.name,about:profile.about})}).then((function(t){return t.ok?t.json():Promise.reject(t.status)})).catch((function(t){console.log("Error: ".concat(t))}))}},{key:"deleteLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"DELETE",headers:{authorization:this._authorization,"content-Type":"application/json"},body:JSON.stringify({name:profile.name,about:profile.about})}).then((function(t){return t.ok?t.json():Promise.reject(t.status)})).catch((function(t){console.log("Error: ".concat(t))}))}},{key:"cardsAddedRequest",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._authorization}})}},{key:"addNewCardPetition",value:function(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._authorization,"content-Type":"application/json"},body:JSON.stringify({name:t.placeName,link:t.link})}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))})).catch((function(t){console.log("Error: ".concat(t))}))}},{key:"deleteCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this._authorization,"content-Type":"application/json"}}).then((function(t){return t.ok?t.json():Promise.reject(t.status)})).catch((function(t){console.log("Error: ".concat(t))}))}},{key:"returnCardInfo",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"GET",headers:{authorization:this._authorization}}).then((function(t){return t.ok?t.json():Promise.reject(t.status)})).catch((function(t){console.log("Error: ".concat(t))}))}}],n&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(),n=new r({baseUrl:"https://around.nomoreparties.co/v1/web_es_07/",headers:{authorization:"d73ff8a4-5ad7-42cb-999c-d084ca2e6847","content-Type":"application/json"}}),o=document.querySelector(".edit-button"),i=(document.querySelector(".form__submit-button"),document.querySelector(".form__close-button"),document.querySelector(".popup_type_edit-profile")),u=document.querySelector(".profile__user-name"),c=document.querySelector(".profile__user-profession"),a=document.querySelector(".profile__avatar"),l=(document.querySelector("#name-input"),document.querySelector("#about-me-input"),document.querySelector(".add-button")),s=(document.querySelector(".form__close-button_type_new-place"),document.querySelector(".popup_type_new-place")),f=(document.querySelector(".form__submit-button_place"),document.querySelector(".card-container"),document.querySelector(".popup_type_photo")),p=document.querySelector(".popup__photo"),y=document.querySelector(".popup__photo-caption"),d=document.querySelector(".popup__close-button"),m=document.querySelector(".form__submit-button_delete"),h=document.querySelector(".popup_type_delete"),b=document.querySelector(".form__close-button_type_delete"),v=document.querySelector(".popup_type_update-avatar"),_=document.querySelector(".profile__avatar-overlay"),S=document.querySelector(".profile__avatar");function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===g(o)?o:String(o)),n)}var o}var E=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._itemsArray=n,this._renderer=o,this._container=r}var e,r;return e=t,(r=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(){var t=this;this._itemsArray.forEach((function(e){t._renderer(e)}))}}])&&w(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===k(o)?o:String(o)),n)}var o}var P=/^[A-Za-z\-]{2,100}$/,O=/^[A-Za-z\-]{2,20}$/,C=/^[A-Za-z\-]{3,20}$/,q=/^https?:\/\//,L=/^https?:\/\//,T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}var e,r;return e=t,(r=[{key:"switchingInput",value:function(t){switch(t.target.name){case"name":this._checkInputValidity(P,t.target,this._formSelector);break;case"about-me":this._checkInputValidity(O,t.target,this._formSelector);break;case"placeName":this._checkInputValidity(C,t.target,this._formSelector);break;case"link":this._checkInputValidity(q,t.target,this._formSelector);break;case"updateAvatar":this._checkInputValidity(L,t.target,this._formSelector)}}},{key:"_checkInputValidity",value:function(t,e,r){var n=document.getElementById(r),o=n.querySelector(".".concat(e.id,"-error"));n.querySelector(this._submitButtonSelector),t.test(e.value)?(o.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass),o.textContent=""):(o.textContent=e.validationMessage,o.classList.add(this._errorClass),e.classList.add(this._inputErrorClass))}},{key:"_hasInvalidInput",value:function(t){var e=document.getElementById(t);return Array.from(e.querySelectorAll(this._inputSelector)).some((function(t){return!t.validity.valid}))}},{key:"toggleBtnState",value:function(){var t=document.getElementById(this._formSelector).querySelector(this._submitButtonSelector);this._hasInvalidInput(this._formSelector)?(t.classList.add(this._inactiveButtonClass),t.setAttribute("disabled",!0)):(t.classList.remove(this._inactiveButtonClass),t.removeAttribute("disabled",!1))}},{key:"setEventListeners",value:function(){var t=this,e=document.getElementById(this._formSelector),r=Array.from(e.querySelectorAll(this._inputSelector));e.querySelector(this._submitButtonSelector),this.toggleBtnState(),r.forEach((function(e){e.addEventListener("input",(function(e){e.stopImmediatePropagation(),t.switchingInput(e),t.toggleBtnState()}))})),this.toggleBtnState()}}])&&j(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===B(o)?o:String(o)),n)}var o}var R=document.querySelector(".card-container"),x=function(){function t(e,r){var n=e.data,o=e.photoHandler,i=e.deleteHandler;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n.name,this._link=n.link,this._id=n._id,this._likes=n.likes,this._templateSelector=r,this._photoHandler=o,this._deleteHandler=i,this._likes=n.likes}var e,r;return e=t,(r=[{key:"getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".place-card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._cardElement=this.getTemplate(),this._cardElement.querySelector(".place-card__name").textContent=this._name,this._cardElement.querySelector(".place-card__photo").src=this._link,this._cardElement.querySelector(".place-card__photo").alt="imagen de ".concat(this._name),this._cardElement.id=this._id,this._cardElement.querySelector(".like-button-counter").textContent=this._likes.length,this._setEventListeners(),this._cardElement}},{key:"_handleOpenPopup",value:function(){this._photoHandler(this._link,this._name)}},{key:"_handleClosePopup",value:function(){p.src=" ",y.textContent=" ",f.classList.remove("popup_opened")}},{key:"_setEventListeners",value:function(){var t=this;this._cardElement.querySelector(".place-card__photo").addEventListener("click",(function(){t._handleOpenPopup()})),d.addEventListener("click",(function(){t._handleClosePopup()})),this._cardElement.querySelector(".trash-button").addEventListener("click",(function(){t._deleteHandler(t._cardElement.id),console.log("desde card js"),console.log(t._cardElement.id)})),this._cardElement.querySelector(".like-button").addEventListener("click",(function(e){e.target.classList.toggle("like-button_active"),e.target.classList.contains("like-button_active")?n.addLike(t._cardElement.id).then((function(e){var r=e.likes;t._cardElement.querySelector(".like-button-counter").textContent=r.length})):n.deleteLike(t._cardElement.id).then((function(e){var r=e.likes;t._cardElement.querySelector(".like-button-counter").textContent=r.length}))}))}},{key:"trashBtnFunctions",value:function(){var t=this._cardElement.querySelector(".trash-button").closest(".place-card");console.log("desde trashBtnFunctionss"),console.log(this._cardElement.id),t.remove()}}])&&I(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==z(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===z(o)?o:String(o)),n)}var o}var H=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=e,this._form=e.querySelector(".form")}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose.bind(this))}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose.bind(this))}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(t){var e=this;t.addEventListener("click",(function(){e.open()})),this._form.querySelector(".form__close-button").addEventListener("click",(function(t){t.preventDefault(),e.close()}))}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===U(o)?o:String(o)),n)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=F(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},D.apply(this,arguments)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(n);if(o){var r=F(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(r=[{key:"open",value:function(t,e){D(F(u.prototype),"open",this).call(this),this._photo=document.querySelector(".popup__photo").src=t,this._photo=document.querySelector(".popup__photo").alt="imagen de ".concat(e),this._caption=document.querySelector(".popup__photo-caption").textContent=e,document.removeEventListener("keydown",this._handleEscClose.bind(this))}}])&&N(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==M(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===M(o)?o:String(o)),n)}var o}function Z(){return Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=K(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Z.apply(this,arguments)}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=K(n);if(o){var r=K(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r,n=t.formSubmitHandler;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e))._formSubmitHandler=n,r._form=r._popup.querySelector(".form"),r}return e=u,(r=[{key:"close",value:function(){var t=this;Z(K(u.prototype),"close",this).call(this),this._popup.querySelector(".overlay").addEventListener("click",(function(e){t._popup.classList.remove("popup_opened"),e.stopImmediatePropagation()}))}},{key:"resetInputs",value:function(){this._form.reset()}},{key:"getInputValues",value:function(){this._inputList=this._form.querySelectorAll(".form__input");var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(t){var e=this;this.getInputValues(),Z(K(u.prototype),"setEventListeners",this).call(this,t),this._form.addEventListener("submit",(function(t){t.preventDefault(),t.stopImmediatePropagation(),e._formSubmitHandler(e.getInputValues())}))}},{key:"renderLoading",value:function(t){t?this._form.querySelector(".form__submit-button").textContent="Guardando...":(this._form.querySelector(".form__submit-button").textContent="Guardado",this.close())}}])&&G(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===W(o)?o:String(o)),n)}var o}var Y=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(e),this._userAboutMe=document.querySelector(r)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){this._userName.value=u.textContent,this._userAboutMe.value=c.textContent}},{key:"setUserInfo",value:function(){u.textContent=this._userName.value,c.textContent=this._userAboutMe.value}}])&&X(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==tt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===tt(o)?o:String(o)),n)}var o}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nt(n);if(o){var r=nt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r,n=t.submitHandler;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e))._submitHandler=n,r._form=r._popup.querySelector(".form"),r}return e=u,(r=[{key:"submitFunctions",value:function(){var t=this;m.addEventListener("click",(function(e){console.log("oprimiste borrar"),t._submitHandler(),console.log(m),e.preventDefault(),t.close()})),b.addEventListener("click",(function(e){e.preventDefault(),t.close()}))}}])&&et(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H),it=new Y("#name-input","#about-me-input"),ut=new T({formSelector:"profile",inputSelector:".form__input",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"});ut.setEventListeners();var ct=new T({formSelector:"place",inputSelector:".form__input",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"});ct.setEventListeners();var at=new T({formSelector:"avatar",inputSelector:".form__input",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"});at.setEventListeners(),n.defaultProfile();var lt=new Q({formSubmitHandler:function(t){lt.renderLoading(!0),n.editProfile({name:t.name,about:t["about-me"]}).finally((function(){lt.renderLoading(!1),ut.toggleBtnState()})),it.setUserInfo(),it.getUserInfo()}},i);lt.setEventListeners(o);var st,ft=[];n.cardsAddedRequest().then((function(t){return t.ok?t.json():Promise.reject(t.status)})).then((function(t){!function(t){t.forEach((function(t){ft.push(t)}));var e=new E({items:ft,renderer:function(t){var r=new x({data:t,photoHandler:function(t,e){new J(f).open(t,e)},deleteHandler:function(t){console.log("desde delete1 handler"),console.log(t);var e=new ot({submitHandler:function(){console.log("oprimiste borrar desde ndex"),r.trashBtnFunctions(),n.deleteCard(t)}},h);e.submitFunctions(),e.open()}},"#card-template"),o=r.generateCard();e.addItem(o)}},R);e.renderItems()}(t)})).catch((function(t){console.log("Error: ".concat(t))})),(st=new Q({formSubmitHandler:function(t){st.renderLoading(!0),n.addNewCardPetition(t).then((function(t){var e;document.querySelector(".card-container").prepend((e=new x({data:t,photoHandler:function(t,e){new J(f).open(t,e)},deleteHandler:function(t){var r=new ot({submitHandler:function(){console.log("oprimiste borrar desde ndex"),e.trashBtnFunctions(),n.deleteCard(t)}},h);r.submitFunctions(),r.open()}},"#card-template")).generateCard()),st.close()})).finally((function(){st.renderLoading(!1),ct.toggleBtnState()})),st.resetInputs()}},s)).setEventListeners(l);var pt=new Q({formSubmitHandler:function(t){pt.renderLoading(!0),n.updateAvatar({avatar:t.updateAvatar}).then((function(t){var e;e=t.avatar,S.src=e})).finally((function(){pt.renderLoading(!1),at.toggleBtnState()})),pt.resetInputs()}},v);pt.setEventListeners(_)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFwQy9CN0YsYUFBYyxTQUFDdkcsRUFBS0osR0FDSixJQUFJZ0osRUFBZXpHLEdBQzNCdUcsS0FBSzFJLEVBQUtKLEVBQ2xCLEVBRUE0RyxjQUFlLFNBQUN6QixHQUNkLElBQU00RyxFQUFlLElBQUlyQixHQUN2QixDQUNFQyxjQUFlLFdBQ2J4SixRQUFRQyxJQUFJLCtCQUNacUwsRUFBUVQsb0JBQ1JoSyxFQUFJaUssV0FBVzlHLEVBQ2pCLEdBRUZ2QyxHQUVGbUosRUFBYUcsa0JBQ2JILEVBQWFqRCxNQUNmLEdBRUYsbUJBR2FxRCxnQkFjTFgsR0FBZTVDLE9BQ2pCLElBQ0N5QyxTQUFRLFdBQ1BHLEdBQWVMLGVBQWMsR0FDN0JKLEdBQWdCM0UsZ0JBQ2xCLElBQ0ZvRixHQUFla0IsYUFDakIsR0FFRnBLLElBRWF3SSxrQkFBa0J6SSxHQVFuQyxJQUFNc0ssR0FBa0IsSUFBSWpELEVBQzFCLENBQ0VDLGtCQUFtQixTQUFDakksR0FDbEJpTCxHQUFnQnhCLGVBQWMsR0FDOUJuSixFQUNHNEssYUFBYSxDQUNadk0sT0FBUXFCLEVBQUtrTCxlQUVkbk0sTUFBSyxTQUFDQyxHQVhmLElBQXNCbU0sSUFZQ25NLEVBQUlMLE9BWHpCMkMsRUFBYzVDLElBQU15TSxDQVlkLElBQ0N4QixTQUFRLFdBQ1BzQixHQUFnQnhCLGVBQWMsR0FDOUJILEdBQWlCNUUsZ0JBQ25CLElBQ0Z1RyxHQUFnQkQsYUFDbEIsR0FFRjVKLEdBRUY2SixHQUFnQjdCLGtCQUFrQi9ILEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9zY3JpcHQvY29tcG9uZW50cy9BUEkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvc2NyaXB0L3V0aWxzL0RhdGEuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvc2NyaXB0L2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9zY3JpcHQvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3NjcmlwdC9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvc2NyaXB0L2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvc2NyaXB0L2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvc2NyaXB0L2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9zY3JpcHQvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9zY3JpcHQvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICB1c2VyTmFtZSxcclxuICBwb3B1cFBob3RvLFxyXG4gIHVzZXJBYm91dE1lLFxyXG4gIHVzZXJBdmF0YXIsXHJcbiAgbGlrZUNvdW50ZXIsXHJcbiAgcG9wdXBEZWxldGVDYXJkLFxyXG4gIGFwaSxcclxufSBmcm9tIFwiLi4vdXRpbHMvRGF0YVwiO1xyXG5pbXBvcnQgeyByZW5kZXJDYXJkcywgYWRkZWRDYXJkc0FycmF5IH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICAgIHRoaXMuX2F1dGhvcml6YXRpb24gPSBoZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgfVxyXG4gIC8vIFByb2ZpbGUgQVBJXHJcbiAgcmVuZGVyUmVzdWx0cyh1c2VyRGF0YSkge1xyXG4gICAgdXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lO1xyXG4gICAgdXNlckFib3V0TWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5hYm91dDtcclxuICAgIHVzZXJBdmF0YXIuc3JjID0gdXNlckRhdGEuYXZhdGFyO1xyXG4gIH1cclxuICBkZWZhdWx0UHJvZmlsZSgpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHRoaXMucmVuZGVyUmVzdWx0cyhyZXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGVkaXRQcm9maWxlKG5ld1Byb2ZpbGUpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICAgIFwiY29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmV3UHJvZmlsZS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBuZXdQcm9maWxlLmFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXMpO1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIHVwZGF0ZUF2YXRhcihkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgICAgXCJjb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXMpO1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIC8vbGlrZXNcclxuICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcImNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHByb2ZpbGUubmFtZSxcclxuICAgICAgICBhYm91dDogcHJvZmlsZS5hYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKTtcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICBkZWxldGVMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcImNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHByb2ZpbGUubmFtZSxcclxuICAgICAgICBhYm91dDogcHJvZmlsZS5hYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKTtcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICAvLyB0ZXJtaW5hIHByb2ZpbGUgZnVuY3Rpb25zXHJcbiAgY2FyZHNBZGRlZFJlcXVlc3QoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGROZXdDYXJkUGV0aXRpb24obmV3Q2FyZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcImNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5ld0NhcmQucGxhY2VOYW1lLFxyXG4gICAgICAgIGxpbms6IG5ld0NhcmQubGluayxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKVxyXG4gICAgICApXHJcblxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICAgIFwiY29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1cyk7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybkNhcmRJbmZvKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXMpO1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FQSS5qc1wiO1xyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wNy9cIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImQ3M2ZmOGE0LTVhZDctNDJjYi05OTljLWQwODRjYTJlNjg0N1wiLFxyXG4gICAgXCJjb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vL2NvbnN0YW50ZXMgdW5pdmVyc2FsZXNcclxuZXhwb3J0IGNvbnN0IGJ0bkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGJ0bkNyZWF0ZVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBidG5DbG9zZUVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5mb3JtX19jbG9zZS1idXR0b25cIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGVcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3VzZXItbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHVzZXJBYm91dE1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX191c2VyLXByb2Zlc3Npb25cIik7XHJcbmV4cG9ydCBjb25zdCB1c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcbmV4cG9ydCBjb25zdCB1c2VyTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lLWlucHV0XCIpO1xyXG5leHBvcnQgY29uc3QgdXNlclByb2Zlc3Npb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWJvdXQtbWUtaW5wdXRcIik7XHJcbmV4cG9ydCBjb25zdCBidG5BZGROZXdQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGJ0bkNsb3NlTmV3UGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmZvcm1fX2Nsb3NlLWJ1dHRvbl90eXBlX25ldy1wbGFjZVwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZE5ld1BsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX25ldy1wbGFjZVwiKTtcclxuZXhwb3J0IGNvbnN0IGJ0blN1Ym1pdE5ld1BsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5mb3JtX19zdWJtaXQtYnV0dG9uX3BsYWNlXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC1jb250YWluZXJcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX3Bob3RvXCIpO1xyXG5cclxuLy9wb3B1cCBwaG90b1xyXG5leHBvcnQgY29uc3QgbGlua1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcGhvdG9cIik7XHJcbmV4cG9ydCBjb25zdCBjYXB0aW9uUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waG90by1jYXB0aW9uXCIpO1xyXG5leHBvcnQgY29uc3QgYnRuQ2xvc2VQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKTtcclxuXHJcbi8vZGVsZXRlIHBvcHVwXHJcbmV4cG9ydCBjb25zdCBidG5EZWxldGVDb25maXJtYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmZvcm1fX3N1Ym1pdC1idXR0b25fZGVsZXRlXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9kZWxldGVcIik7XHJcbmV4cG9ydCBjb25zdCBjbG9zZURlbGV0ZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5mb3JtX19jbG9zZS1idXR0b25fdHlwZV9kZWxldGVcIlxyXG4pO1xyXG4vL2VkaXQgQXZhdGFyXHJcbmV4cG9ydCBjb25zdCBwb3B1cFVwZGF0ZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfdHlwZV91cGRhdGUtYXZhdGFyXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ0blVwZGF0ZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fYXZhdGFyLW92ZXJsYXlcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXNBcnJheSA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xyXG4gIH1cclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zQXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJjb25zdCByZWdFeCA9IHtcclxuICBuYW1lOiAvXltBLVphLXpcXC1dezIsMTAwfSQvLFxyXG4gIGFib3V0TWU6IC9eW0EtWmEtelxcLV17MiwyMH0kLyxcclxuICBwbGFjZU5hbWU6IC9eW0EtWmEtelxcLV17MywyMH0kLyxcclxuICBsaW5rOiAvXmh0dHBzPzpcXC9cXC8vLFxyXG4gIHVwZGF0ZUF2YXRhcjogL15odHRwcz86XFwvXFwvLyxcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihvYmpUb1ZhbGlkYXRlKSB7XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBvYmpUb1ZhbGlkYXRlLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBvYmpUb1ZhbGlkYXRlLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IG9ialRvVmFsaWRhdGUuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gb2JqVG9WYWxpZGF0ZS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gb2JqVG9WYWxpZGF0ZS5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gb2JqVG9WYWxpZGF0ZS5lcnJvckNsYXNzO1xyXG4gIH1cclxuXHJcbiAgLy90ZXJtaW5hIGVsIGNvbnN0cnVjdG9yXHJcblxyXG4gIHN3aXRjaGluZ0lucHV0KGV2dCkge1xyXG4gICAgc3dpdGNoIChldnQudGFyZ2V0Lm5hbWUpIHtcclxuICAgICAgY2FzZSBcIm5hbWVcIjpcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkocmVnRXgubmFtZSwgZXZ0LnRhcmdldCwgdGhpcy5fZm9ybVNlbGVjdG9yKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImFib3V0LW1lXCI6XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KHJlZ0V4LmFib3V0TWUsIGV2dC50YXJnZXQsIHRoaXMuX2Zvcm1TZWxlY3Rvcik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJwbGFjZU5hbWVcIjpcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoXHJcbiAgICAgICAgICByZWdFeC5wbGFjZU5hbWUsXHJcbiAgICAgICAgICBldnQudGFyZ2V0LFxyXG4gICAgICAgICAgdGhpcy5fZm9ybVNlbGVjdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImxpbmtcIjpcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkocmVnRXgubGluaywgZXZ0LnRhcmdldCwgdGhpcy5fZm9ybVNlbGVjdG9yKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcInVwZGF0ZUF2YXRhclwiOlxyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShcclxuICAgICAgICAgIHJlZ0V4LnVwZGF0ZUF2YXRhcixcclxuICAgICAgICAgIGV2dC50YXJnZXQsXHJcbiAgICAgICAgICB0aGlzLl9mb3JtU2VsZWN0b3JcclxuICAgICAgICApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShleHByZXNpb24sIGlucHV0RWxlbWVudCwgZm9ybUlEKSB7XHJcbiAgICBjb25zdCBmb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvcm1JRCk7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBjb25zdCBidG5FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICBpZiAoZXhwcmVzaW9uLnRlc3QoaW5wdXRFbGVtZW50LnZhbHVlKSkge1xyXG4gICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyB0ZXJtaW5hIGNoZWNrIHNob3cgZXJyb3JcclxuXHJcbiAgLy8gaXMgdmFsaWRcclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dChmb3JtSUQpIHtcclxuICAgIGNvbnN0IGZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9ybUlEKTtcclxuICAgIGNvbnN0IGlucHV0c0xpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGlucHV0c0xpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyB0b2dnbGVCdG5cclxuXHJcbiAgdG9nZ2xlQnRuU3RhdGUoKSB7XHJcbiAgICBjb25zdCBmb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2Zvcm1TZWxlY3Rvcik7XHJcbiAgICBjb25zdCBidG5FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2Zvcm1TZWxlY3RvcikpIHtcclxuICAgICAgYnRuRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidG5FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnRuRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidG5FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vcHJ1ZWJhIGVuYWJsZSB2YWxpZGF0aW9uXHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9mb3JtU2VsZWN0b3IpO1xyXG4gICAgY29uc3QgaW5wdXRzTGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICBjb25zdCBidG5FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLnRvZ2dsZUJ0blN0YXRlKCk7XHJcbiAgICBpbnB1dHNMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcclxuICAgICAgICBldnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zd2l0Y2hpbmdJbnB1dChldnQpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnRuU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMudG9nZ2xlQnRuU3RhdGUoKTtcclxuICB9XHJcbn1cclxuXHJcbi8vdGVybWluYSBvYmpldG9cclxuXHJcbi8vICBwcnVlYmEgUGFyYSBQcm9maWxlIGZvcm1cclxuXHJcbi8vUHJveWVjdG8gOFxyXG4iLCJpbXBvcnQge1xyXG4gIHBvcHVwUGhvdG8sXHJcbiAgbGlua1BvcHVwLFxyXG4gIGNhcHRpb25Qb3B1cCxcclxuICBidG5DbG9zZVBob3RvLFxyXG4gIGFwaSxcclxufSBmcm9tIFwiLi4vdXRpbHMvRGF0YS5qc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkLWNvbnRhaW5lclwiKTtcclxuZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgcGhvdG9IYW5kbGVyLCBkZWxldGVIYW5kbGVyIH0sIHRlbXBsYXRlU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5fcGhvdG9IYW5kbGVyID0gcGhvdG9IYW5kbGVyO1xyXG4gICAgdGhpcy5fZGVsZXRlSGFuZGxlciA9IGRlbGV0ZUhhbmRsZXI7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgfVxyXG5cclxuICBnZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudDtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlLWNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZS1jYXJkX19uYW1lXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2UtY2FyZF9fcGhvdG9cIikuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBsYWNlLWNhcmRfX3Bob3RvXCJcclxuICAgICkuYWx0ID0gYGltYWdlbiBkZSAke3RoaXMuX25hbWV9YDtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LmlkID0gdGhpcy5faWQ7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpa2UtYnV0dG9uLWNvdW50ZXJcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZU9wZW5Qb3B1cCgpIHtcclxuICAgIHRoaXMuX3Bob3RvSGFuZGxlcih0aGlzLl9saW5rLCB0aGlzLl9uYW1lKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDbG9zZVBvcHVwKCkge1xyXG4gICAgbGlua1BvcHVwLnNyYyA9IFwiIFwiO1xyXG4gICAgY2FwdGlvblBvcHVwLnRleHRDb250ZW50ID0gXCIgXCI7XHJcbiAgICBwb3B1cFBob3RvLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wbGFjZS1jYXJkX19waG90b1wiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVPcGVuUG9wdXAoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgYnRuQ2xvc2VQaG90by5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDbG9zZVBvcHVwKCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHRyYXNoQnRuID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmFzaC1idXR0b25cIik7XHJcbiAgICB0cmFzaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9kZWxldGVIYW5kbGVyKHRoaXMuX2NhcmRFbGVtZW50LmlkKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiZGVzZGUgY2FyZCBqc1wiKTtcclxuICAgICAgY29uc29sZS5sb2codGhpcy5fY2FyZEVsZW1lbnQuaWQpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBsaWtlSWNvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGlrZS1idXR0b25cIik7XHJcbiAgICBsaWtlSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJsaWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcblxyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJsaWtlLWJ1dHRvbl9hY3RpdmVcIikpIHtcclxuICAgICAgICBhcGkuYWRkTGlrZSh0aGlzLl9jYXJkRWxlbWVudC5pZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBsaWtlc2luaXRBcnJheSA9IHJlcy5saWtlcztcclxuXHJcbiAgICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpa2UtYnV0dG9uLWNvdW50ZXJcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICAgICAgICBsaWtlc2luaXRBcnJheS5sZW5ndGg7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUxpa2UodGhpcy5fY2FyZEVsZW1lbnQuaWQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbGlrZXNpbml0QXJyYXkgPSByZXMubGlrZXM7XHJcblxyXG4gICAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5saWtlLWJ1dHRvbi1jb3VudGVyXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICAgICAgbGlrZXNpbml0QXJyYXkubGVuZ3RoO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRyYXNoQnRuRnVuY3Rpb25zKCkge1xyXG4gICAgY29uc3QgdHJhc2hCdG4gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRyYXNoLWJ1dHRvblwiKTtcclxuXHJcbiAgICBjb25zdCBjYXJkVG9SZW1vdmUgPSB0cmFzaEJ0bi5jbG9zZXN0KFwiLnBsYWNlLWNhcmRcIik7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJkZXNkZSB0cmFzaEJ0bkZ1bmN0aW9uc3NcIik7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLl9jYXJkRWxlbWVudC5pZCk7XHJcblxyXG4gICAgY2FyZFRvUmVtb3ZlLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXApIHtcclxuICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XHJcbiAgICB0aGlzLl9mb3JtID0gcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gIH1cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcykpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpKTtcclxuICB9XHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMob3BlbkJ1dHRvbikge1xyXG4gICAgb3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLm9wZW4oKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZm9ybVxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5mb3JtX19jbG9zZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLy8gcG9wdXAgd2l0aCBpbWFnZVxyXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXApIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICB9XHJcbiAgb3BlbihzcmMsIG5hbWUpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX3Bob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcGhvdG9cIikuc3JjID0gc3JjO1xyXG4gICAgdGhpcy5fcGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9fcGhvdG9cIlxyXG4gICAgKS5hbHQgPSBgaW1hZ2VuIGRlICR7bmFtZX1gO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19waG90by1jYXB0aW9uXCJcclxuICAgICkudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgZm9ybVN1Ym1pdEhhbmRsZXIgfSwgcG9wdXApIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyID0gZm9ybVN1Ym1pdEhhbmRsZXI7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5vdmVybGF5XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgIGV2dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXNldElucHV0cygpIHtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbiAgZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIik7XHJcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKG9wZW5CdXR0b24pIHtcclxuICAgIHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKTtcclxuXHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycyhvcGVuQnV0dG9uKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBldnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyKHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zdWJtaXQtYnV0dG9uXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICBcIkd1YXJkYW5kby4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdC1idXR0b25cIikudGV4dENvbnRlbnQgPSBcIkd1YXJkYWRvXCI7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgdXNlck5hbWUsIHVzZXJBYm91dE1lIH0gZnJvbSBcIi4uL3V0aWxzL0RhdGEuanNcIjtcclxuZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihpbnB1dE5hbWVTZWxlY3RvciwgaW5wdXRBYm91dFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5wdXROYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdXNlckFib3V0TWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlucHV0QWJvdXRTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudmFsdWUgPSB1c2VyTmFtZS50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX3VzZXJBYm91dE1lLnZhbHVlID0gdXNlckFib3V0TWUudGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbygpIHtcclxuICAgIHVzZXJOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fdXNlck5hbWUudmFsdWU7XHJcbiAgICB1c2VyQWJvdXRNZS50ZXh0Q29udGVudCA9IHRoaXMuX3VzZXJBYm91dE1lLnZhbHVlO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuaW1wb3J0IHsgYnRuRGVsZXRlQ29uZmlybWF0aW9uLCBjbG9zZURlbGV0ZVBvcHVwIH0gZnJvbSBcIi4uL3V0aWxzL0RhdGEuanNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgc3VibWl0SGFuZGxlciB9LCBwb3B1cCkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IHN1Ym1pdEhhbmRsZXI7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgc3VibWl0RnVuY3Rpb25zKCkge1xyXG4gICAgYnRuRGVsZXRlQ29uZmlybWF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwib3ByaW1pc3RlIGJvcnJhclwiKTtcclxuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcigpO1xyXG4gICAgICBjb25zb2xlLmxvZyhidG5EZWxldGVDb25maXJtYXRpb24pO1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNsb3NlRGVsZXRlUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIGJ0bkVkaXRQcm9maWxlLFxyXG4gIHBvcHVwRWRpdFByb2ZpbGUsXHJcbiAgcG9wdXBQaG90byxcclxuICBwb3B1cEFkZE5ld1BsYWNlLFxyXG4gIGJ0bkFkZE5ld1BsYWNlLFxyXG4gIHBvcHVwRGVsZXRlQ2FyZCxcclxuICBhcGksXHJcbiAgcG9wdXBVcGRhdGVBdmF0YXIsXHJcbiAgYnRuVXBkYXRlQXZhdGFyLFxyXG4gIHByb2ZpbGVBdmF0YXIsXHJcbiAgdXNlck5hbWVJbnB1dCxcclxuICB1c2VyUHJvZmVzc2lvbklucHV0LFxyXG4gIHVzZXJOYW1lLFxyXG4gIHVzZXJBYm91dE1lLFxyXG59IGZyb20gXCIuL3NjcmlwdC91dGlscy9EYXRhLmpzXCI7XHJcblxyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi9zY3JpcHQvY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi9zY3JpcHQvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7IENhcmQsIGNhcmRzQ29udGFpbmVyIH0gZnJvbSBcIi4vc2NyaXB0L2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vc2NyaXB0L2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vc2NyaXB0L2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuL3NjcmlwdC9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4vc2NyaXB0L2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uXCI7XHJcblxyXG4vLyBvYmpldG9zIHBhcmEgdmFsaWRhclxyXG5cclxuY29uc3QgdmFsaWRhdGlvbk9iamVjdCA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwicHJvZmlsZVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3N1Ym1pdC1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX3N1Ym1pdC1idXR0b25faW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0aW9uT2JqZWN0MiA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwicGxhY2VcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19zdWJtaXQtYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGlvbk9iamVjdEF2YXRhciA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiYXZhdGFyXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0LWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fc3VibWl0LWJ1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VyRGF0YSA9IG5ldyBVc2VySW5mbyhcIiNuYW1lLWlucHV0XCIsIFwiI2Fib3V0LW1lLWlucHV0XCIpO1xyXG5cclxuLy9sbGFtYW5kbyBhIEZvcm1WYWxpZGF0b3JcclxuXHJcbmNvbnN0IFByb2ZpbGVWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbk9iamVjdCk7XHJcblxyXG5Qcm9maWxlVmFsaWRhdGlvbi5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy9wcnVlYmEgcGFyYSBwbGFjZSBmb3JtXHJcbmNvbnN0IFBsYWNlVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25PYmplY3QyKTtcclxuUGxhY2VWYWxpZGF0aW9uLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBhdmF0YXJWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbk9iamVjdEF2YXRhcik7XHJcbmF2YXRhclZhbGlkYXRpb24uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy9wb3B1cCBmb3JtIHByb2ZpbGVcclxuYXBpLmRlZmF1bHRQcm9maWxlKCk7XHJcbmNvbnN0IGZvcm1Qb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICB7XHJcbiAgICBmb3JtU3VibWl0SGFuZGxlcjogKGRhdGEpID0+IHtcclxuICAgICAgLy8gYXF1aSBlbXBpZXphIGNhbGxiYWNrXHJcbiAgICAgIGZvcm1Qb3B1cFByb2ZpbGUucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLmVkaXRQcm9maWxlKHtcclxuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgIGFib3V0OiBkYXRhW1wiYWJvdXQtbWVcIl0sXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgZm9ybVBvcHVwUHJvZmlsZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgIFByb2ZpbGVWYWxpZGF0aW9uLnRvZ2dsZUJ0blN0YXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHVzZXJEYXRhLnNldFVzZXJJbmZvKCk7XHJcbiAgICAgIHVzZXJEYXRhLmdldFVzZXJJbmZvKCk7XHJcbiAgICB9LCAvL2FxdWkgdGVybWluYVxyXG4gIH0sXHJcbiAgcG9wdXBFZGl0UHJvZmlsZVxyXG4pO1xyXG5mb3JtUG9wdXBQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKGJ0bkVkaXRQcm9maWxlKTtcclxuXHJcbi8vIGZ1bmNpb25lcyBkZSBwZXJmaWxcclxuXHJcbi8vIFJlbmRlaXphciBpbml0aWFsIENhcmRzXHJcblxyXG5leHBvcnQgY29uc3QgYWRkZWRDYXJkc0FycmF5ID0gW107XHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJDYXJkcyhkYXRhQXJyYXkpIHtcclxuICBkYXRhQXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgYWRkZWRDYXJkc0FycmF5LnB1c2goaXRlbSk7XHJcbiAgfSk7XHJcbiAgY29uc3QgZGVmYXVsdENhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAgICB7XHJcbiAgICAgIGl0ZW1zOiBhZGRlZENhcmRzQXJyYXksXHJcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZGF0YTogaXRlbSxcclxuICAgICAgICAgICAgcGhvdG9IYW5kbGVyOiAoc3JjLCBuYW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgcGhvdG8gPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBQaG90byk7XHJcbiAgICAgICAgICAgICAgcGhvdG8ub3BlbihzcmMsIG5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgZGVsZXRlSGFuZGxlcjogKGlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJkZXNkZSBkZWxldGUxIGhhbmRsZXJcIik7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coaWQpO1xyXG5cclxuICAgICAgICAgICAgICBjb25zdCBjb25maXJtYXRpb24gPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBzdWJtaXRIYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJvcHJpbWlzdGUgYm9ycmFyIGRlc2RlIG5kZXhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZC50cmFzaEJ0bkZ1bmN0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwaS5kZWxldGVDYXJkKGlkKTtcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgcG9wdXBEZWxldGVDYXJkXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICBjb25maXJtYXRpb24uc3VibWl0RnVuY3Rpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgIGNvbmZpcm1hdGlvbi5vcGVuKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgXCIjY2FyZC10ZW1wbGF0ZVwiXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3Q2FyZCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgICAgZGVmYXVsdENhcmRMaXN0LmFkZEl0ZW0obmV3Q2FyZCk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgY2FyZHNDb250YWluZXJcclxuICApO1xyXG5cclxuICBkZWZhdWx0Q2FyZExpc3QucmVuZGVySXRlbXMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbENhcmRzUmVxdWVzdCgpIHtcclxuICBjb25zdCBpbml0aWFsQ2FyZHNBcGkgPSBhcGkuY2FyZHNBZGRlZFJlcXVlc3QoKTtcclxuICBpbml0aWFsQ2FyZHNBcGlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKTtcclxuICAgIH0pXHJcblxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZW5kZXJDYXJkcyhyZXMpO1xyXG4gICAgfSlcclxuXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5pbml0aWFsQ2FyZHNSZXF1ZXN0KCk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOZXdDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBhcGlDYXJkID0gbmV3IENhcmQoXHJcbiAgICB7XHJcbiAgICAgIGRhdGE6IGl0ZW0sXHJcbiAgICAgIHBob3RvSGFuZGxlcjogKHNyYywgbmFtZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBob3RvID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwUGhvdG8pO1xyXG4gICAgICAgIHBob3RvLm9wZW4oc3JjLCBuYW1lKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGRlbGV0ZUhhbmRsZXI6IChpZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHN1Ym1pdEhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9wcmltaXN0ZSBib3JyYXIgZGVzZGUgbmRleFwiKTtcclxuICAgICAgICAgICAgICBhcGlDYXJkLnRyYXNoQnRuRnVuY3Rpb25zKCk7XHJcbiAgICAgICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoaWQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBvcHVwRGVsZXRlQ2FyZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uZmlybWF0aW9uLnN1Ym1pdEZ1bmN0aW9ucygpO1xyXG4gICAgICAgIGNvbmZpcm1hdGlvbi5vcGVuKCk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIGFwaUNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5ld0NhcmRBcGkoKSB7XHJcbiAgY29uc3QgZm9ybVBvcHVwUGxhY2UgPSBuZXcgUG9wdXBXaXRoRm9ybSggLy8gZGVjbGFyYW5kbyBmb3JtXHJcbiAgICB7XHJcbiAgICAgIGZvcm1TdWJtaXRIYW5kbGVyOiAobmV3Q2FyZCkgPT4ge1xyXG4gICAgICAgIGZvcm1Qb3B1cFBsYWNlLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgICAuYWRkTmV3Q2FyZFBldGl0aW9uKG5ld0NhcmQpXHJcbiAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC1jb250YWluZXJcIilcclxuICAgICAgICAgICAgICAucHJlcGVuZChjcmVhdGVOZXdDYXJkKHJlc3VsdCkpO1xyXG4gICAgICAgICAgICBmb3JtUG9wdXBQbGFjZS5jbG9zZSgpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgZm9ybVBvcHVwUGxhY2UucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIFBsYWNlVmFsaWRhdGlvbi50b2dnbGVCdG5TdGF0ZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgZm9ybVBvcHVwUGxhY2UucmVzZXRJbnB1dHMoKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBwb3B1cEFkZE5ld1BsYWNlXHJcbiAgKTtcclxuICBmb3JtUG9wdXBQbGFjZS5zZXRFdmVudExpc3RlbmVycyhidG5BZGROZXdQbGFjZSk7XHJcbn1cclxuXHJcbm5ld0NhcmRBcGkoKTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckF2YXRhcihhdmF0YXJVcmwpIHtcclxuICBwcm9maWxlQXZhdGFyLnNyYyA9IGF2YXRhclVybDtcclxufVxyXG5jb25zdCBuZXdQcGRhdGVBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICB7XHJcbiAgICBmb3JtU3VibWl0SGFuZGxlcjogKGRhdGEpID0+IHtcclxuICAgICAgbmV3UHBkYXRlQXZhdGFyLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC51cGRhdGVBdmF0YXIoe1xyXG4gICAgICAgICAgYXZhdGFyOiBkYXRhLnVwZGF0ZUF2YXRhcixcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHJlbmRlckF2YXRhcihyZXMuYXZhdGFyKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgIG5ld1BwZGF0ZUF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgIGF2YXRhclZhbGlkYXRpb24udG9nZ2xlQnRuU3RhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgbmV3UHBkYXRlQXZhdGFyLnJlc2V0SW5wdXRzKCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgcG9wdXBVcGRhdGVBdmF0YXJcclxuKTtcclxubmV3UHBkYXRlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKGJ0blVwZGF0ZUF2YXRhcik7XHJcbiJdLCJuYW1lcyI6WyJBcGkiLCJfcmVmIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9hdXRob3JpemF0aW9uIiwiYXV0aG9yaXphdGlvbiIsImtleSIsInZhbHVlIiwidXNlckRhdGEiLCJ1c2VyTmFtZSIsInRleHRDb250ZW50IiwibmFtZSIsInVzZXJBYm91dE1lIiwiYWJvdXQiLCJ1c2VyQXZhdGFyIiwic3JjIiwiYXZhdGFyIiwiX3RoaXMiLCJmZXRjaCIsImNvbmNhdCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwicmVuZGVyUmVzdWx0cyIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwibmV3UHJvZmlsZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImNhcmRJZCIsInByb2ZpbGUiLCJuZXdDYXJkIiwicGxhY2VOYW1lIiwibGluayIsImFwaSIsImJ0bkVkaXRQcm9maWxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicG9wdXBFZGl0UHJvZmlsZSIsImJ0bkFkZE5ld1BsYWNlIiwicG9wdXBBZGROZXdQbGFjZSIsInBvcHVwUGhvdG8iLCJsaW5rUG9wdXAiLCJjYXB0aW9uUG9wdXAiLCJidG5DbG9zZVBob3RvIiwiYnRuRGVsZXRlQ29uZmlybWF0aW9uIiwicG9wdXBEZWxldGVDYXJkIiwiY2xvc2VEZWxldGVQb3B1cCIsInBvcHVwVXBkYXRlQXZhdGFyIiwiYnRuVXBkYXRlQXZhdGFyIiwicHJvZmlsZUF2YXRhciIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXNBcnJheSIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwicHJlcGVuZCIsImZvckVhY2giLCJyZWdFeCIsIkZvcm1WYWxpZGF0b3IiLCJvYmpUb1ZhbGlkYXRlIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImV2dCIsInRhcmdldCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJleHByZXNpb24iLCJpbnB1dEVsZW1lbnQiLCJmb3JtSUQiLCJmb3JtRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ0ZXN0IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhZGQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJidG5FbGVtZW50IiwiX2hhc0ludmFsaWRJbnB1dCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImlucHV0c0xpc3QiLCJ0b2dnbGVCdG5TdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzd2l0Y2hpbmdJbnB1dCIsImNhcmRzQ29udGFpbmVyIiwiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJwaG90b0hhbmRsZXIiLCJkZWxldGVIYW5kbGVyIiwiX25hbWUiLCJfbGluayIsIl9pZCIsIl9saWtlcyIsImxpa2VzIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfcGhvdG9IYW5kbGVyIiwiX2RlbGV0ZUhhbmRsZXIiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRFbGVtZW50IiwiZ2V0VGVtcGxhdGUiLCJhbHQiLCJsZW5ndGgiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlT3BlblBvcHVwIiwiX2hhbmRsZUNsb3NlUG9wdXAiLCJ0b2dnbGUiLCJjb250YWlucyIsImFkZExpa2UiLCJsaWtlc2luaXRBcnJheSIsImRlbGV0ZUxpa2UiLCJjYXJkVG9SZW1vdmUiLCJjbG9zZXN0IiwiUG9wdXAiLCJwb3B1cCIsIl9wb3B1cCIsIl9mb3JtIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsIm9wZW5CdXR0b24iLCJvcGVuIiwicHJldmVudERlZmF1bHQiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiX3Bob3RvIiwiX2NhcHRpb24iLCJQb3B1cFdpdGhGb3JtIiwiZm9ybVN1Ym1pdEhhbmRsZXIiLCJfZm9ybVN1Ym1pdEhhbmRsZXIiLCJfdGhpczIiLCJyZXNldCIsIl9pbnB1dExpc3QiLCJmb3JtVmFsdWVzIiwiaW5wdXQiLCJfdGhpczMiLCJnZXRJbnB1dFZhbHVlcyIsImlzTG9hZGluZyIsIlVzZXJJbmZvIiwiaW5wdXROYW1lU2VsZWN0b3IiLCJpbnB1dEFib3V0U2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckFib3V0TWUiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJzdWJtaXRIYW5kbGVyIiwiX3N1Ym1pdEhhbmRsZXIiLCJQcm9maWxlVmFsaWRhdGlvbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiUGxhY2VWYWxpZGF0aW9uIiwiYXZhdGFyVmFsaWRhdGlvbiIsImRlZmF1bHRQcm9maWxlIiwiZm9ybVBvcHVwUHJvZmlsZSIsInJlbmRlckxvYWRpbmciLCJlZGl0UHJvZmlsZSIsImZpbmFsbHkiLCJzZXRVc2VySW5mbyIsImdldFVzZXJJbmZvIiwiZm9ybVBvcHVwUGxhY2UiLCJhZGRlZENhcmRzQXJyYXkiLCJjYXJkc0FkZGVkUmVxdWVzdCIsImRhdGFBcnJheSIsInB1c2giLCJkZWZhdWx0Q2FyZExpc3QiLCJjYXJkIiwiY29uZmlybWF0aW9uIiwidHJhc2hCdG5GdW5jdGlvbnMiLCJkZWxldGVDYXJkIiwic3VibWl0RnVuY3Rpb25zIiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwicmVuZGVyQ2FyZHMiLCJhZGROZXdDYXJkUGV0aXRpb24iLCJyZXN1bHQiLCJhcGlDYXJkIiwicmVzZXRJbnB1dHMiLCJuZXdQcGRhdGVBdmF0YXIiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXJVcmwiXSwic291cmNlUm9vdCI6IiJ9